<!DOCTYPE html>
<html>
<head>
 <script type="text/javascript">
 window.onload = function() {
  document.getElementById("subscribe").onclick = function fun() {

 var x = document.forms["myForm"]["subId"].value; 
 var y = document.forms["myForm"]["topic"].value;  
 console.log(x+y);

 var obj = JSON.stringify({"ID": x, "IP": x, "Topic": y});
 
 var Url = "http://127.0.0.1:20002/suscriber/suscribe";
 
 var xhr = new XMLHttpRequest();
 
 xhr.open("POST", Url, true);
 
 xhr.setRequestHeader("Content-Type", "application/json");
 
 xhr.send(obj);
 
 confirm(y + " "+"Subscribed!");
 xhr.onreadystatechange =  function () {
 // alert(xhr.responseText.headers.Host);
 if (xhr.readyState === 4 && xhr.status === 200) {
        document.getElementById("data").innerHTML = xhr.responseText;
        //console.log(json);
   
 };
  
//console.log("Nothing");
}}}
</script>


</head>
<body>
<center>
 Subscribe Portal
<br><br> 

<form name="myForm">
  <label for="subId">Subscriber's Id:</label>
  <input type="text" name="subId"/><br><br>
  <label for="topic">Topic Name:</label>
  <input type="text"  name="topic"/><br><br>
 <input type="button" id="subscribe" onclick="f1()" value="Subscribe"/>
</form>

 
 
 </table>
 </center>
</body>
</html>